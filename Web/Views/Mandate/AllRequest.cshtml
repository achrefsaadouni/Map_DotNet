@model IEnumerable<Web.Models.SrequestModelViews>
@using Web.Models
@{
    bool test = true;
    ViewBag.Title = "All Requests";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<aside class="right-side">
    <section class="content-header">
        <h1>Mandates</h1>
        <ol class="breadcrumb">
            <li>
                <a href="index.html">
                    <i class="livicon" data-name="home" data-size="16" data-color="#000"></i> Dashboard
                </a>
            </li>
            <li>
                <a href="#">Mandates</a>
            </li>
            <li class="active">All Request</li>
        </ol>
    </section>
    <section class="content">




        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-success filterable" style="overflow:auto;">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            <i class="livicon" data-name="tasks" data-size="16" data-loop="true" data-c="#fff" data-hc="white" id="livicon-47" style="width: 16px; height: 16px;"></i> Requests
                        </h3>
                    </div>
                    <div class="panel-body table-responsive">
                        <div id="table2_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-striped table-bordered dataTable no-footer dtr-inline" id="table2" role="grid" aria-describedby="table2_info" style="width: 1177px;">
                                        <thead>
                                            <tr role="row">
                                                <th class="sorting_asc" tabindex="0" aria-controls="table2" rowspan="1" colspan="1" style="width: 200px;" aria-sort="ascending" aria-label="Client: activate to sort column descending" data-column-index="0">Client</th>
                                                <th class="sorting" tabindex="0" aria-controls="table2" rowspan="1" colspan="1" style="width: 200px;" aria-label="Company Name: activate to sort column ascending" data-column-index="1">Company Name</th>
                                                <th class="sorting" tabindex="0" aria-controls="table2" rowspan="1" colspan="1" style="width: 200px;" aria-label="Project Name: activate to sort column ascending" data-column-index="2">Project Name</th>
                                                <th class="sorting" tabindex="0" aria-controls="table2" rowspan="1" colspan="1" style="width: 200px;" aria-label="Deposit Date: activate to sort column ascending" data-column-index="3">Deposit Date</th>
                                                <th class="sorting" tabindex="0" aria-controls="table2" rowspan="1" colspan="1" style="width: 200px;" aria-label="Requested Profil: activate to sort column ascending" data-column-index="4">Requested Profil</th>
                                                <th class="sorting" tabindex="0" aria-controls="table2" rowspan="1" colspan="1" style="width: 200px;" aria-label="Status: activate to sort column ascending" data-column-index="5">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                            @foreach (SrequestModelViews item in Model)
                                            {
                                                if (test)
                                                {
                                                    <tr role="row" class="odd">
                                                        <td tabindex="0" class="sorting_1">@item.Client.lastName @item.Client.firstName</td>
                                                        <td>@item.Client.nameSociety</td>
                                                        <td>@item.project.projectName</td>
                                                        <td>@item.depositDate.ToString("d")</td>
                                                        <td>@item.requestedProfil</td>
                                                        @if(item.suggessedResource != null)
                                                        {
                                                        <td><button disabled class="button button-pill button-success">Traited</button></td>
                                                        }

                                                        else
                                                        {
                                
                                                        <td>@Html.ActionLink("Trait", "HandleRequest", "Mandate", new { id = @item.id }, new { @class = "button button-pill button-success" })</td>
                                                        }
                                                        
                                                    </tr>
                                                    test = false;
                                                }
                                                else
                                                {
                                                    <tr role="row" class="even">
                                                        <td tabindex="0" class="sorting_1">@item.Client.lastName @item.Client.firstName</td>
                                                        <td>@item.Client.nameSociety</td>
                                                        <td>@item.project.projectName</td>
                                                        <td>@item.depositDate.ToString("d")</td>
                                                        <td>@item.requestedProfil</td>
                                                        @if(item.suggessedResource != null)
                                                        {
                                                        <td><button disabled class="button button-pill button-success">Traited</button></td>
                                                        }
                                                        
                                                        else{
                                                        <td>@Html.ActionLink("Trait", "HandleRequest", "Mandate", new { id = @item.id }, new { @class = "button button-pill button-success" })</td>
                                                        }
                                                        
                                                    </tr>
                                                    test = true;

                                                }


                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</aside>
<!-- right-side -->

@section scripts {

    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/jquery.dataTables.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/jeditable/js/jquery.jeditable.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/dataTables.bootstrap.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/dataTables.buttons.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/dataTables.colReorder.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/dataTables.responsive.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/dataTables.rowReorder.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/buttons.colVis.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/buttons.html5.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/buttons.print.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/buttons.bootstrap.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/pdfmake.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/vfs_fonts.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")vendors/datatables/js/dataTables.scroller.js"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/")js/pages/table-advanced.js"></script>

}